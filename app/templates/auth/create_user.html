{% extends 'base.html' %}

{% block content %}
<div class="page-header">
  <h2>Create User Account</h2>
  <p style="color: #6b7280; margin-top: 0.5rem;">Create login credentials for employees</p>
</div>

{% if show_credentials %}
<div style="background: #d1fae5; border: 2px solid #10b981; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem;">
  <h3 style="color: #059669; margin-top: 0;">‚úÖ User Account Created Successfully!</h3>
  <p style="margin-bottom: 1rem;">Please share these credentials with the user. They can change their password after logging in.</p>
  
  <div style="background: white; padding: 1rem; border-radius: 6px; margin-top: 1rem;">
    <div style="margin-bottom: 0.75rem;">
      <strong style="color: #374151;">Username:</strong>
      <code style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px; margin-left: 0.5rem; font-size: 1rem;">{{ created_username }}</code>
    </div>
    <div>
      <strong style="color: #374151;">Temporary Password:</strong>
      <code style="background: #fef3c7; padding: 0.25rem 0.5rem; border-radius: 4px; margin-left: 0.5rem; font-size: 1rem; color: #d97706;">{{ created_password }}</code>
    </div>
  </div>
  
  <p style="margin-top: 1rem; margin-bottom: 0; font-size: 0.875rem; color: #059669;">
    üí° <strong>Important:</strong> Make sure to copy this password now - it won't be shown again!
  </p>
</div>
{% endif %}

<form method="POST" class="form">
  <div class="form-group">
    <label for="username">Username *</label>
    <input type="text" id="username" name="username" class="form-control" required 
           placeholder="Enter username (e.g., john.doe)">
  </div>

  <div class="form-group">
    <label for="email">Email *</label>
    <input type="email" id="email" name="email" class="form-control" required 
           placeholder="user@company.com">
  </div>

  <div class="form-group">
    <label for="role">Role</label>
    <select id="role" name="role" class="form-control">
      <option value="employee" selected>Employee</option>
      <option value="admin">Admin</option>
    </select>
    <small style="color: #6b7280; display: block; margin-top: 0.25rem;">
      Employees can view and update their own tasks. Admins have full system access.
    </small>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary">Create User Account</button>
    <a href="{{ url_for('dashboard.index') }}" class="btn btn-secondary">Cancel</a>
  </div>
</form>

<div style="background: #eff6ff; border-left: 4px solid #3b82f6; padding: 1rem; margin-top: 2rem; border-radius: 4px;">
  <h4 style="color: #1e40af; margin-top: 0; font-size: 0.875rem;">‚ÑπÔ∏è How It Works</h4>
  <ul style="margin: 0; padding-left: 1.5rem; color: #1e40af; font-size: 0.875rem;">
    <li>A random secure password will be generated automatically</li>
    <li>You'll receive the credentials to share with the employee</li>
    <li>The employee can login and change their password later</li>
  </ul>
</div>

{% endblock %}
